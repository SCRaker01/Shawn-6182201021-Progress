System.register("chunks:///_virtual/Boss.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Player.ts"],(function(t){var i,e,s,n,o,a,l,r,c,h,d,p,u,g,y,m,v;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.CCInteger,r=t.RigidBody2D,c=t.CircleCollider2D,h=t.Animation,d=t.UITransform,p=t.Vec2,u=t.randomRangeInt,g=t.PhysicsSystem2D,y=t.ERaycast2DType,m=t.Component},function(t){v=t.Player}],execute:function(){var f,k,A,b,C,D,P;o._RF.push({},"8ecf6qg9n9MRKXayerTanHN","Boss",void 0);var z=a.ccclass,H=a.property;t("Boss",(f=z("Boss"),k=H({type:l}),A=H({type:l}),f((D=i((C=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(i=t.call.apply(t,[this].concat(o))||this).player=void 0,s(i,"bossHealth",D,n(i)),s(i,"bossDamage",P,n(i)),i.rb=void 0,i.circleC=void 0,i.bossAnim=void 0,i.curClipName=void 0,i.isHit=void 0,i.isFacingRight=void 0,i.horizontal=void 0,i.speed=void 0,i.canAttack=void 0,i.stunDur=void 0,i.attackCD=void 0,i.directionVal=void 0,i.deadStat=void 0,i.isAttacking=void 0,i}e(i,t);var o=i.prototype;return o.onLoad=function(){this.rb=this.node.getComponent(r),this.circleC=this.node.getComponent(c),this.bossAnim=this.node.getComponent(h);var t=this.node.getParent();this.player=t.getChildByName("Player"),this.stunDur=1,this.isHit=!1,this.directionVal=-1,this.canAttack=!0,this.attackCD=3,this.deadStat=!1,this.isAttacking=!1},o.start=function(){this.horizontal=0,this.speed=4},o.update=function(t){var i=this.player.getPosition().x,e=this.node.getPosition().x;this.deadStat||this.isAttacking||(i<e?(this.horizontal=-.5,this.isFacingRight||this.flip()):i>e&&(this.horizontal=.5,this.isFacingRight&&this.flip()),Math.abs(e-i)>this.node.getComponent(d).contentSize.x+66?(this.playAnimation("skellWalk"),this.rb.linearVelocity=new p(this.speed*this.horizontal,this.rb.linearVelocity.y)):(this.playAnimation("skellIdle"),this.canAttack&&this.attack()))},o.playAnimation=function(t){this.curClipName!=t&&(this.bossAnim.play(t),this.curClipName=t)},o.receiveAttackFromPlayer=function(t){this.isHit=!0,this.bossHealth-=t,console.log("boss damage :"+t),console.log("player health : "+this.bossHealth),this.playAnimation("skellHurt"),this.isDead()&&this.dead()},o.isDead=function(){return this.bossHealth<=0&&(this.deadStat=!0,!0)},o.dead=function(){var t=this;this.playAnimation("skellDie"),this.scheduleOnce((function(){t.node.active=!1}),this.stunDur)},o.attack=function(){var t=this;this.isAttacking=!0,0==u(0,1)?this.playAnimation("skellAttack1"):this.playAnimation("skellAttack2"),this.canAttack=!1;this.scheduleOnce((function(){var i=new p(t.node.worldPosition.x,t.node.worldPosition.y),e=new p(t.node.worldPosition.x+250*-t.directionVal,t.node.worldPosition.y+16),s=g.instance.raycast(i,e,y.All,4294967295);s&&null!=s[0]&&0==s[0].collider.tag&&s[0].collider.getComponent(v).receiveAttackFromBoss(t.bossDamage),t.isAttacking=!1}),1.1),this.scheduleOnce((function(){t.canAttack=!0}),this.attackCD-1.1)},o.flip=function(){var t=this.node.getScale();this.node.setScale(-1*t.x,t.y,t.z),this.isFacingRight=!this.isFacingRight,this.directionVal*=-1},i}(m)).prototype,"bossHealth",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(C.prototype,"bossDamage",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=C))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/CloudPlatform.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,r,n,e;return{setters:[function(t){o=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,e=t.Component}],execute:function(){var u;r._RF.push({},"24a32lRlZ9ORYi/DqSqPUU/","CloudPlatform",void 0);var c=n.ccclass;n.property,t("CloudPlatform",c("CloudPlatform")(u=function(t){function r(){return t.apply(this,arguments)||this}o(r,t);var n=r.prototype;return n.start=function(){},n.update=function(t){},r}(e))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,a,o,s,l,u,p,c,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Node,l=e.Prefab,u=e.UITransform,p=e.instantiate,c=e.Vec3,d=e.Component}],execute:function(){var g,h,y,m,f,b,P,G,v,z,w;a._RF.push({},"5bd48Zu4E1M2LateW/RPp14","GameManager",void 0);var x=o.ccclass,M=o.property;e("GameManager",(g=x("GameManager"),h=M({type:s}),y=M({type:s}),m=M({type:l}),f=M({type:s}),g((G=t((P=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"camera",G,r(t)),n(t,"player",v,r(t)),n(t,"ground",z,r(t)),n(t,"mainGround",w,r(t)),t.leftEdge=void 0,t.rightEdge=void 0,t.size=void 0,t.playerPos=void 0,t}i(t,e);var a=t.prototype;return a.start=function(){this.leftEdge=-this.mainGround.getPosition().x/2,this.rightEdge=this.mainGround.getComponent(u).contentSize.x/2,this.size=this.mainGround.getComponent(u).contentSize.x/2},a.instantiateGround=function(){return p(this.ground)},a.setNewGround=function(e){var t=this.instantiateGround();t.setParent(this.mainGround),t.setPosition(new c(e,-340,0))},a.update=function(e){this.playerPos=this.player.getPosition(),this.playerPos.x>=-1280&&this.playerPos.x<=640&&this.camera.setPosition(new c(this.player.getPosition().x,0,0))},t}(d)).prototype,"camera",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(P.prototype,"player",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(P.prototype,"ground",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(P.prototype,"mainGround",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=P))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/OneWayPlatform.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,n,r,i,a,c,l;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,r=t.Vec2,i=t.Collider2D,a=t.Contact2DType,c=t.PHYSICS_2D_PTM_RATIO,l=t.Component}],execute:function(){var s;e._RF.push({},"1e8d8ix+mRK6Jbi/ZjvNJ2g","OneWayPlatform",void 0);var u=n.ccclass,f=(n.property,new r),y=new r,p=new r,d=new r;t("OneWayPlatform",u("OneWayPlatform")(s=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.start=function(){this.getComponent(i).on(a.BEGIN_CONTACT,this.onBeginContact,this)},n.onBeginContact=function(t,o,e){for(var n=o.body,r=t.body,i=e.getWorldManifold().points,a=0;a<i.length;a++){if(r.getLinearVelocityFromWorldPoint(i[a],f),n.getLinearVelocityFromWorldPoint(i[a],y),r.getLocalVector(y.subtract(f),p),p.y<-1*c)return;if(p.y<1*c){r.getLocalPoint(i[a],d);var l=t.worldAABB.height/2;if(d.y>l-.1*c)return}}e.disabled=!0},e}(l))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Boss.ts"],(function(i){var t,e,n,o,a,s,l,h,r,c,p,d,u,y,m,g,b,A,v,R,f,D,k,C;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,s=i._decorator,l=i.CCFloat,h=i.Prefab,r=i.input,c=i.Input,p=i.Animation,d=i.CircleCollider2D,u=i.BoxCollider2D,y=i.RigidBody2D,m=i.Contact2DType,g=i.PhysicsSystem2D,b=i.v2,A=i.PHYSICS_2D_PTM_RATIO,v=i.Vec2,R=i.KeyCode,f=i.ERaycast2DType,D=i.randomRangeInt,k=i.Component},function(i){C=i.Boss}],execute:function(){var H,S,_,z,O,T,F,w,P,V,I;a._RF.push({},"1bc3d2cpIJAGr5Nrz6fe0K7","Player",void 0);var E=s.ccclass,G=s.property;i("Player",(H=E("Player"),S=G({type:l}),_=G({type:l}),z=G({type:l}),O=G({type:h}),H((w=t((F=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return t=i.call.apply(i,[this].concat(a))||this,n(t,"jumpForce",w,o(t)),n(t,"playerDamage",P,o(t)),n(t,"playerHealth",V,o(t)),n(t,"hurtBox",I,o(t)),t.vy=0,t.rb=void 0,t.playerAnim=void 0,t.collider=void 0,t.attackHitBox=void 0,t.curClipName=void 0,t.horizontal=void 0,t.speed=void 0,t.isJumping=void 0,t.isOnGround=void 0,t.isFacingRight=void 0,t.isRolling=void 0,t.canRolling=void 0,t.rollCD=void 0,t.canAttack=void 0,t.attackCD=void 0,t.tempSpeed=void 0,t.isWallSliding=void 0,t.canDoubleJump=void 0,t.directionVal=void 0,t.deadStat=void 0,t.isHit=void 0,t}e(t,i);var a=t.prototype;return a.onLoad=function(){r.on(c.EventType.KEY_DOWN,this.keyDown,this),r.on(c.EventType.KEY_UP,this.keyUp,this),this.playerAnim=this.node.getComponent(p),this.collider=this.node.getComponent(d),this.attackHitBox=this.node.getComponent(u),this.rb=this.node.getComponent(y),this.horizontal=0,this.speed=8,this.rollCD=2,this.attackCD=.5,this.directionVal=1,this.canRolling=!0,this.canAttack=!0,this.canDoubleJump=!1,this.isWallSliding=!1,this.deadStat=!1,this.isHit=!1},a.start=function(){this.collider.on(m.BEGIN_CONTACT,this.onTouch,this),this.curClipName=this.playerAnim.defaultClip.toString(),g.instance.gravity=b(0,-25*A)},a.update=function(i){var t=this;if(console.log(this.horizontal),!this.deadStat){if(this.isHit)return;this.isRolling?(this.canRolling&&this.isOnGround&&Math.abs(this.rb.linearVelocity.x)>0&&(this.canRolling=!1,this.playAnimation("heroRoll"),this.rb.linearVelocity=new v(2*this.tempSpeed,this.rb.linearVelocity.y),this.scheduleOnce((function(){t.isRolling=!1,t.tempSpeed=0}),.68)),this.isOnGround||(this.isRolling=!1),this.scheduleOnce((function(){t.canRolling=!0}),this.rollCD)):(this.rb.linearVelocity=new v(this.speed*this.horizontal,this.rb.linearVelocity.y),this.isOnGround&&Math.abs(this.rb.linearVelocity.x)>0?this.playAnimation("heroRun"):this.isOnGround&&0==this.rb.linearVelocity.x&&this.playAnimation("heroIdle")),!this.isOnGround&&this.rb.linearVelocity.y<0&&this.playAnimation("heroFall")}},a.jump=function(){this.rb.linearVelocity=new v(this.speed*this.horizontal,1.5*this.jumpForce),this.isJumping=!1,this.isOnGround=!1,this.isRolling=!1},a.flip=function(){var i=this.node.getScale();this.node.setScale(-1*i.x,i.y,i.z),this.isFacingRight=!this.isFacingRight,this.directionVal*=-1},a.onTouch=function(i,t,e){2==t.tag&&(this.isOnGround=!0,this.canDoubleJump=!1,this.isWallSliding=!1),0==t.tag&&(this.playAnimation("heroHurt"),this.rb.linearVelocity=new v(this.speed*this.horizontal*-2,this.rb.linearVelocity.y))},a.playAnimation=function(i){this.curClipName!=i&&(this.playerAnim.play(i),this.curClipName=i)},a.keyDown=function(i){switch(i.keyCode){case R.ARROW_RIGHT:case R.KEY_D:this.isFacingRight&&!this.isWallSliding&&this.flip(),this.horizontal=1;break;case R.ARROW_LEFT:case R.KEY_A:this.isFacingRight||this.isWallSliding||this.flip(),this.horizontal=-1;break;case R.ARROW_UP:case R.KEY_W:(this.isJumping&&this.isOnGround||this.canDoubleJump)&&(this.playAnimation("heroJump"),this.jump(),this.canDoubleJump=!this.canDoubleJump),this.isJumping=!0;break;case R.SHIFT_LEFT:this.canRolling&&!this.isHit&&(this.isRolling=!0,this.tempSpeed=this.rb.linearVelocity.x);break;case R.KEY_J:this.canAttack&&this.attack();break;case R.SHIFT_RIGHT:1==Math.abs(this.horizontal)&&(this.horizontal*=2)}},a.keyUp=function(i){switch(i.keyCode){case R.ARROW_RIGHT:case R.KEY_D:case R.ARROW_LEFT:case R.KEY_A:this.horizontal=0;break;case R.SHIFT_RIGHT:Math.abs(this.horizontal)>1&&(this.horizontal/=2)}},a.attack=function(){var i=this,t=(this.node.getPosition(),new v(this.node.worldPosition.x,this.node.worldPosition.y)),e=new v(this.node.worldPosition.x+150*this.directionVal,this.node.worldPosition.y+33),n=g.instance.raycast(t,e,f.All,4294967295);n&&null!=n[0]&&0==n[0].collider.tag&&n[0].collider.getComponent(C).receiveAttackFromPlayer(this.playerDamage),this.canAttack=!1;var o=D(0,2);0==o?this.playerAnim.play("heroAttack1"):1==o?this.playerAnim.play("heroAttack2"):this.playerAnim.play("heroAttack3"),this.scheduleOnce((function(){0==Math.abs(i.rb.linearVelocity.x)?i.playerAnim.play("heroIdle"):i.playerAnim.play("heroRun"),i.canAttack=!0}),this.attackCD)},a.receiveAttackFromBoss=function(i){var t=this;this.isHit=!0,this.playerHealth-=i,console.log("boss damage :"+i),console.log("player health : "+this.playerHealth),this.playAnimation("heroHurt"),this.isDead()&&this.dead(),this.scheduleOnce((function(){t.isHit=!1}),.25)},a.isDead=function(){return this.playerHealth<=0&&(this.deadStat=!0,!0)},a.dead=function(){this.deadStat=!0,this.playAnimation("heroDeath")},t}(k)).prototype,"jumpForce",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(F.prototype,"playerDamage",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(F.prototype,"playerHealth",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(F.prototype,"hurtBox",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=F))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/resources",["./Boss.ts","./CloudPlatform.ts","./GameManager.ts","./OneWayPlatform.ts","./Player.ts"],(function(){return{setters:[null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/resources', 'chunks:///_virtual/resources'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});